{"version":3,"sources":["labs/lab1/index.module.css","components/MainPage/index.module.css","labs/lab1/fabrics.ts","labs/lab1/index.tsx","labs/lab2/texts.tsx","labs/lab2/code.tsx","labs/lab2/index.tsx","components/MainPage/index.tsx","components/MainMenu/ThemedMenu.tsx","components/Header.tsx","components/Layout.tsx","App.tsx","index.tsx"],"names":["module","exports","colors","self","bg","BlackBg","WhiteBg","Caption","selfColor","bgColor","this","BlackCaption","WhiteCaption","Monkey","caption","getBackground","getCaption","WhiteMonkey","BlackMonkey","Lab1","useState","fabricType","setFabricType","className","styles","main","buttonContainer","Button","onClick","drawMonkey","isWhiteColor","monkey","background","color","getColor","getMonkey","style","drawLab","texts","purpose","description","conclusion","Purpose","Description","Conclusion","Empty","Lab2","variant","text","setText","textRenderer","factoryMethod","lab2LinkButtons","getText","MainPage","links","to","content","Container","Navbar","expand","Brand","as","Link","Toggle","Collapse","id","Nav","map","NavLink","ThemedMenu","Layout","children","Header","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.030a425d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"lab1_main__7avGT\",\"drawLab\":\"lab1_drawLab__2bLZu\",\"buttonContainer\":\"lab1_buttonContainer__uyrPu\",\"lab2LinkButtons\":\"lab1_lab2LinkButtons__26Vsz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Description\":\"MainPage_Description__1TRue\"};","const colors: Record<string, {\n    self:string\n    bg: string\n}> = {\n    '#fff': {\n        self: 'белая',\n        bg: 'белом'\n    },\n    '#000': {\n        self: 'чёрная',\n        bg: 'чёрном'\n    },\n};\n\ninterface IBackground {\n    getBackground(): string;\n}\n\nclass BlackBg implements IBackground {\n    public getBackground() {\n        return '#000';\n    }\n}\n\n\nclass WhiteBg implements IBackground {\n    public getBackground() {\n        return '#fff';\n    }\n}\n\n\nabstract class Caption {\n    abstract selfColor: string\n    getCaption (bgColor: string) {\n        return `Я ${colors[this.selfColor].self} обезьяна на ${colors[bgColor].bg} фоне`\n    };\n}\n\nclass BlackCaption extends Caption{\n    selfColor = '#000';\n}\nclass WhiteCaption extends Caption{\n    selfColor = '#fff';\n}\n\nabstract class Monkey {\n    protected abstract caption: Caption;\n    protected abstract bg: IBackground;\n\n    getBackground () {\n        return this.bg.getBackground();\n    };\n    getCaption () {\n        return this.caption.getCaption(this.bg.getBackground());\n    };\n    getColor() {\n        return this.caption.selfColor;\n    }\n}\n\nexport class WhiteMonkey extends Monkey {\n    protected caption = new WhiteCaption();\n    protected bg = new BlackBg();\n}\n\nexport class BlackMonkey extends Monkey {\n    protected caption = new BlackCaption();\n    protected bg = new WhiteBg();\n}\n\nexport function getMonkey(isWhiteColor: boolean) {\n    const monkey = isWhiteColor ? new WhiteMonkey() : new BlackMonkey();\n\n    return {\n        background: monkey.getBackground(),\n        caption: monkey.getCaption(),\n        color: monkey.getColor()\n    }\n}","import { useState } from 'react';\nimport styles from './index.module.css'\nimport { Button } from 'react-bootstrap';\nimport { getMonkey, WhiteMonkey } from './fabrics';\n\nconst WHITE = true;\n\nexport default function Lab1 () {\n    const [fabricType, setFabricType] = useState<boolean | undefined>(WHITE);\n\n    return <div className={styles.main}>\n        <h2>Лабораторная работа 1</h2>\n        <p>\n            Паттерн \"Абстрактная фабрика\" можно применять для парсинга параметров url и подставлять нужный контекст (React.Context) в реактивный компонент, или например делать разное меню или картинки разного размера в зависимости от устройства, но это слишком долго.\n            <br/>\n            Так как у меня кризис идей - буду описывать белую / черную обезьяну. <br/>\n            По нажатию кнопки она будет говорить о своём цвете и цвете фона.\n        </p>\n        <h3>Пояснения к коду</h3>\n        <p>\n            По нажатию кнопки применяется другая фабрика. <br/>\n            Наследник Monkey имеет экземпляры Caption и IBackground, жёстко прописанные в нём. <br/>\n            <code>abstract class</code> - это функция, вызываемая наследником как <code>this.prototype.call(this)</code>. Абстрактные свойства при этом существуют только при анализе типов <code>typescrypt</code>, при выполнении подставляясь из экземпляра наследника. <br/>\n            Т.о. <code>monkey.getBackground = (monkey as WhiteMonkey).(caption as WhiteCaption).prototype.getCaption</code>. При этом свойство <code>selfColor</code> берется из <code>monkey.caption as WhiteCaption</code>\n        </p>\n        <p>\n            Я отделил логику в файл <code>./fabrics.ts</code>. Функция <code>getMonkey</code> делает экземпляр <code>Monkey</code> и передает обратно его свойства. <br/>\n            <br/>\n            Я не стал описывать отрисовку обезьяны в фабриках, чтобы не смешивать представление здесь и логиу там. Но в принципе, можно было бы отрисовывать (например) картинку животного одним классом, а контейнер (его вид и цвет) - другим.\n        </p>\n        <h6>Об особенностях JS</h6>\n        <p>\n            <code>WhiteMonkey</code> использует методы <code>Monkey</code> через <code>WhiteMonkey.prototype = Monkey</code> (прототипное наследование). Это легко увидеть, если поменять <code>WhiteMonkey.prototype</code> на <code>BlackMonkey</code>. Тогда поведение будет противоположно.\n        </p>\n        <h3>Вывод</h3>\n        <p>\n            Сам паттерн отдельно я не использовал и использовать не собираюсь. Это основа для других паттернов - в т.ч. для фабричного метода и одиночки.\n        </p>\n        <p>\n            Вариация развития данного паттерна - передача Caption и Background в Monkey - что позволяет говорить о композиции - более гибком подходе. В таком виде я использовал его в работе.\n        </p>\n\n        <div className={styles.buttonContainer}>\n            <Button onClick={toggleFabricType}>Рисовать обезьяну!</Button>\n        </div>\n        {drawMonkey(fabricType)}\n    </div>;\n\n    function toggleFabricType() {\n        setFabricType(!fabricType);\n    }\n}\n\n\nfunction drawMonkey(isWhiteColor?: boolean) {\n    const { background, caption, color } = getMonkey(!!isWhiteColor);\n\n    return <div style={{ background, color }} className={styles.drawLab}>\n        {caption}\n    </div>\n}","import React from 'react';\n\nconst texts = {\n    purpose: <div>\n        <h6>Назначение</h6>\n        <p>\n            Определяет интерфейс для создания объекта, но оставляет подклассам реше ние о том, какой класс инстанцировать. Фабричный метод позволяет классу делегировать инстанцирование подклассам.\n        </p>\n        <h6>Применимость</h6>\n        <p>\n            классу заранее неизвестно, объекты каких классов ему нужно создавать;\n        </p>\n        <p>\n            класс спроектирован так, чтобы объекты, которые он создает, специфицировались подклассами;\n        </p>\n        <p>\n            класс делегирует свои обязанности одному из нескольких вспомогательных подклассов, и вы планируете локализовать знание о том, какой класс принимает эти обязанности на себя.\n        </p>\n        <p>\n            Можно применить паттерн для специфичного роутинга с заранее неопределенным типом страницы из нескольких. <br/>\n            Класс фабрики из пути понимает понимает каким подклассом обрабатывать страницу. <br/>\n            Например есть класс Lab2. у него есть метод render который отображает\n        </p>\n    </div>,\n    description: <div>\n        <p>\n            В файле <code>code.tsx</code> содержится реализация параметризованного фабричного метода.\n            На вход конструктора класса <code>LabPart</code> подается часть пути страницы, по которой выбирается подкласс в классе Creator. Подкласс Creator может расширить базовый класс - например, если нельзя до/переписать в базовый класс, можно использовать  его как в <code>CreatorWithConclusion</code>\n        </p>\n    </div>,\n    conclusion: <div>\n        <p>В реальном приложении Lab2 мог содержать layout (header / body / footer) или состояние с отображением и контроллером</p>\n        <p>В бОльшей части случаев метод избыточен (если нет тех условий что я описал в \"Применимость\"). <br/>\n            А если от Creator нужен только конструктор и factoryMethod, то может быть заменён функцией, если сам Creator не параметризирован\n        </p>\n        <p>Возможно я подобрал плохой пример и стоило добавить в Lab2 параметры - например тему стилизации</p>\n    </div>\n}\nexport default texts;","import React, { ReactNode } from 'react';\nimport texts from './texts';\n\ninterface Text {\n    getText(): ReactNode\n}\n\nclass Purpose implements Text {\n    public getText() {\n        return texts.purpose;\n    }\n}\n\nclass Description implements Text {\n    public getText() {\n        return texts.description;\n    }\n}\nclass Conclusion implements Text {\n    public getText() {\n        return texts.conclusion;\n    }\n}\nclass Empty implements Text {\n    public getText() {\n        return null;\n    }\n}\n\n\ninterface Creator {\n    factoryMethod(variant: string): Text\n}\n\nclass Lab2 implements Creator {\n    public factoryMethod(variant: string) {\n        switch (variant) {\n            case 'purpose': return new Purpose();\n            case 'description': return new Description();\n            case 'conclusion': return new Conclusion();\n            default: return new Empty();\n        }\n    }\n}\n\nexport const getRenderer = (variant: string) => (new Lab2()).factoryMethod(variant)\n","\n\nimport styles from '../lab1/index.module.css'\nimport { Button, Nav } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport { getRenderer } from './code';\n\n\n\n\nexport default function Lab2() {\n    const [text, setText] = useState('');\n\n    const textRenderer = getRenderer(text);\n    return <div className={styles.main}>\n        <h2>Лабораторная работа 2</h2>\n        <h4>Паттерн \"Фабричный метод\"</h4>\n        <p>\n            Навигация по лабе осуществляется кнопками.\n        </p>\n        <p>\n            Страница является иллюстрацией паттерна.\n        </p>\n        <div className={styles.lab2LinkButtons}>\n            <Button variant=\"primary\" onClick={() => setText('')}>Сбросить</Button>{' '}\n            <Button variant=\"secondary\" onClick={() => setText('purpose')} >Назначение</Button>{' '}\n            <Button variant=\"secondary\" onClick={() => setText('description')}>Пояснение к коду</Button>{' '}\n            <Button variant=\"secondary\" onClick={() => setText('conclusion')}>Вывод</Button>{' '}\n        </div>\n\n        <hr/>\n\n        {textRenderer.getText()}\n\n    </div>;\n}","import React from 'react';\nimport styles from './index.module.css'\n\nconst MainPage = () => <div className={styles.Description}>\n    <p>\n        Лабы разложены по меню. Всё делалось в соответствие с описанием из книги \"Приемы объектно-ориентированного\n        проектирования. Паттерны проектирования (2016)\", Авторы: Эрих Гамма, Ричард Хелм, Ральф Джонсон, Джон Влиссидес.\n    </p>\n    <p>\n        Навигация по меню.\n    </p>\n    <p>\n        Подробно смотреть лабу можно в IDE Phpstorm или бесплатной - VSCode\n    </p>\n    <p>\n        Скачать лабу для просмотра можно командой\n    </p>\n    <p>\n        <code>\n            git clone https://github.com/4t4nner/ss-architecture.git\n        </code>\n    </p>\n\n</div>;\nexport default MainPage;","import { Container, Nav, Navbar } from 'react-bootstrap';\nimport React from 'react';\nimport { Link, NavLink } from 'react-router-dom'\n\ninterface MenuItem {\n    to: string\n    content: string\n}\n\nconst links = [\n    {\n        to: '/ss-architecture/lab1',\n        content: 'Лабораторная работа 1'\n    },\n    {\n        to: '/ss-architecture/lab2',\n        content: 'Лабораторная работа 2'\n    },\n] as MenuItem[];\n\nexport default () => <div className='bg-light'>\n    <Container>\n        <Navbar bg=\"light\" expand=\"lg\">\n            <Navbar.Brand as={Link} to=\"/ss-architecture/\">Главная</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\"/>\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n                <Nav className=\"me-auto\">\n                    {links.map(({ to, content }) => <Nav.Link as={NavLink} to={to}>{content}</Nav.Link>)}\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    </Container>\n</div>","import { Navbar } from 'react-bootstrap';\nimport React from 'react';\nimport ThemedMenu from './MainMenu/ThemedMenu';\n\nexport default function() {\n    return <ThemedMenu />\n}","import React from 'react';\nimport Header from './Header';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Layout: React.FC = ({children}) => <>\n    <Header />\n    {children}\n</>\nexport default Layout;\n","import React from 'react';\nimport './App.css';\n\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport Lab1 from './labs/lab1';\nimport Lab2 from './labs/lab2';\nimport MainPage from './components/MainPage/index';\nimport Header from './components/Header';\nimport Layout from './components/Layout';\n\nconst App = () => <BrowserRouter>\n    <Layout>\n        <Routes>\n            <Route path=\"/ss-architecture/\" element={<MainPage/>} />\n            <Route path=\"/ss-architecture/lab1\" element={<Lab1/>}/>\n            <Route path=\"/ss-architecture/lab2\" element={<Lab2/>}/>\n        </Routes>\n    </Layout>\n\n</BrowserRouter>\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}